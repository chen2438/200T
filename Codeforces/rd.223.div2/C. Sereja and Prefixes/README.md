https://codeforces.com/group/qWc0vtZbjV/contest/381/problem/C

### 标签



### 题意

对于数组 a, 有 2 种操作.

1. 在数组末尾添加 1 个数.
2. 将序列 a[1] -> a[l] 复制 c 倍, 添加到数组末尾.

### 思路

保存操作, 记忆化搜索.

生成的数组可能很大, 但输出的数组只有 1e5.

最长的序列 (1+1e5)*1e5/2=1e10/2=5e9, 不能直接存

输入的数组下标可能爆 int 

a=3 2 5

l=2,c=2

L=3+1=4

a=3 2 5 3 2 3 2

R=4+2*2-1=7

Ask(6)=ask(1)=[6-(4-1)]%2=[pos-(L-1)]%l